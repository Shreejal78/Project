<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="web.css">
  <link rel="website icon" href="wolf-head-amazing-logo-illustration_74472-391.jpg">
  <title>WEBSITE 1101</title>
</head>

<body id="body">
  <div class="top">
    <marquee direction="left" style="font-size: 30px;">
      <p id="title"><b><i>WELCOME TO MY WEB .üá≥üáµ</i></b></p>
    </marquee>
  </div>
  <div class="container">
    <img src="" alt="" id="image">
    <button onclick="removeimg()" id="ireset">Reset</button>
    <div id="inph">
      <input type="text" id="edit">
      <div id="ph">EDIT BOX HERE</div>
      <div>
        <button id="start-btn" style="border-radius:50px;"><img src="microphone.png" alt="" style="height: 20px;width: 20px;"></button>
      </div>
    </div>
    <p id="result"></p>

    <form>
      <label>HEIGHT:</label>
      <input type="range" id="sh" max="350" min="0" style="width:200px;">
      <br>
      <br>
      <label>WIDTH:</label>&nbsp;&nbsp;
      <input type="range" id="sw" max="350" min="0" style="width: 200px;">
    </form>
    <br>
    <form>
      <div style="display:flex;gap: 50px;">
        <label for="isrc" id="isrclb">Upload Image</label>
        <input type="file" id="isrc">
        <div id="theme">
          <div id="circle"><img src="full-moon.png" alt="" id="cimg" style="height: 30px;width:30px;"></div>
        </div>
      </div>
    </form>
  </div>
  <div class="music">
    <marquee direction="left" style="font-size: 14px;">
      <h2 id="song-title">Select a song to play</h2>
    </marquee>


    <div id="progss">
      <button id="play-pause-btn" onclick="togglePlayPause()">‚ñ∂</button>
      <input type="range" id="progress-bar" value="0" max="100">
      <span id="current-time">0:00</span> / <span id="total-time">0:00</span>
    </div>
    <div class="selection">
      <label for="song-select">Song:</label>
      <select id="song-select" onchange="changeSong()">
        <option value="Montagem Coral [ Phonk ] est√°tua de solo loving_1729795211883.mp3" data-title="Montagem Coral[Phonk]">Montagem Coral[Phonk]</option>
        <option value="Lost Sky - Fearless pt.II (feat. Chris Linton)  Trap  NCS - Copyright Free Music_1729787541192.mp3" data-title="Fearless pt.II">Fearless pt.II</option>
        <option value="The Local Train - Aaoge Tum Kabhi with lyrics_1729597756399.mp3" data-title="Aaoge Tum Kabhi">Aaoge Tum Kabhi</option>
        <option value="Elley Duh√© - Middle of the Night (Lyrics).mp3" data-title="Middle of the Night">Middle of the Night</option>
        <option value="Warriyo - Mortals (feat. Laura Brehm) (Lyrics)_1722686832267.mp3" data-title="Warriyo - Mortals">Warriyo - Mortals</option>
        <option value="Tokyo Drift Temperature[REMIX] _ Fast And Furious 8 (Final Battle) (128K).mp3" data-title="Tokyo Drift Temperature[REMIX]">Tokyo_Drift-Temperature</option>
        <option value="The Neighbourhood - Sweater Weather (Lyrics).mp3" data-title="Sweater Weather">Sweater Weather</option>
        <option value="LYRICAL VIDEO OF SANSKRITI  MANTRA BAND_1714402333592 (1).mp3" data-title="SANSKRITI MANTRA BAND">SANSKRITI MANTRA BAND</option>
        <option value="INTERWORLD METAMORPHOSIS_1729401838034.mp3" data-title="INTERWORLD-METAMORPHOSIS">METAMORPHOSIS</option>
        <option value="Ghost - Mary On A Cross (Official Audio)_1729787557633.mp3" data-title="Ghost-Mary On A Cross">Ghost-Mary On A Cross</option>
        <option value="BLUESSS - LA LA LA LA (OFFICIAL LYRICS VIDEO) (128K).mp3" data-title="BLUESSS-LA LA LA">BLUESSS-LA LA LA</option>
        <option value="AlexanderRybak-Fairytale(Lyrics) visionWinner2009_678.mp3" data-title="AlexanderRybak-Fairytale">AlexanderRybak-Fairytale</option>
        <option value="24kGoldn-Mood(Lyrics)ft.IannDiorWhyyoualwaysinamood_757.mp3" data-title="24kGoldn-Mood">24kGoldn-Mood</option>
        <option value="Egzod & Maestro Chives - Royalty - Bass Boosted (128K).mp3" data-title="Royalty">Royalty</option>
        <option value="Eternxlkz - SLAY! (Official Audio)_1720140920108.mp3" data-title="Eternxlkz - SLAY!">Eternxlkz - SLAY!</option>
        <option value="Eternxlkz - JUJALARIM FUNK (Official Audio)_1717977736620 (1) (1).mp3" data-title="Eternxlkz - JUJALARIM PHONK">Eternxlkz-JUJALARIM PHONK</option>
        <option value="Rauf&Faik-childhood(Officialvideo)_34.mp3" data-title="Rauf&Faik-Childhood">Rauf&Faik-Childhood</option>
        <option value="Lana Del Rey - Summertime Sadness (Lyrics)_1723630065669.mp3" data-title="Summertime Sadness">Summertime Sadness</option>
        <option value="NEFFEX - Cold ‚ùÑÔ∏è[Copyright Free] No.60_1729014764447.mp3" data-title="NEFFEX - Cold ‚ùÑÔ∏è">NEFFEX - Cold ‚ùÑÔ∏è</option>
        <option value="Powfu-deathbed(Lyrics)feat.beabadoobee_117.mp3" data-title="Powfu-deathbed">Powfu-deathbed</option>
        
      </select>
    </div>
    <!-- Play/Pause Button -->

    <!-- Audio Element -->
    <audio id="background-audio" loop>
      <source id="audio-source" src="" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
  </div>


  <div class="base">

    <a href="https://www.facebook.com/shreejal.twayana.100"><img src="facebook.png" alt="" class="links"></a>
    <a href="https://youtube.com/@lggamer-lg2sd?si=aAUf6zz8gwkf_DOA"><img src="youtube.png" alt="" class="links"></a>
    <a href="https://www.instagram.com/shreejal.twayana?igsh=NHRkMzF3ZGhmYWdk"><img src="instagram.png" alt="" class="links"></a>
    <a href="calculator.html"><img src="calculator.png" alt="" class="links"></a>
    <a href="games.html"><img src="joystick.png" alt="" class="links"></a>

  </div>


  </div>
  <script>
    var body = document.getElementById("body")
    var root = document.querySelector(":root")
    var r = document.getElementById("ireset")
    var rootstyle = getComputedStyle(root)
    var sbg = rootstyle.getPropertyValue("--song")
    var phc = rootstyle.getPropertyValue("--phc")
    var ph = rootstyle.getPropertyValue("--ph")
    var edt = document.getElementById("edit")
    var img = document.getElementById("image")
    var cimg = document.getElementById("cimg")
    var isrc = document.getElementById("isrc")
    var sh = document.getElementById("sh")
    var sw = document.getElementById("sw")
    var t = document.getElementById("theme")
    var cir = document.getElementById("circle");
    const result = document.getElementById('result');
    const startBtn = document.getElementById('start-btn');

    var thm = localStorage.getItem("theme");
    if (thm == "dark") {
      body.style.backgroundColor = "#222";
      body.style.color = "white";
      edt.style.background = "transparent"
      root.style.setProperty("--ph", "#222")
      root.style.setProperty("--phc", "white")
      root.style.setProperty("--song", "#333")
      cir.style.left = "37px"
      cimg.src = "full-moon.png";
    } else {
      body.style.backgroundColor = "white";
      body.style.color = "black";
      edt.style.background = "transparent";
      root.style.setProperty("--ph", "#fff")
      root.style.setProperty("--phc", "black")
      root.style.setProperty("--song", "#EFEFEF")
      cir.style.left = "5px"
      cimg.src = "sun.png";
    }
    t.addEventListener("click", function() {
      var theme = localStorage.getItem("theme")
      if (theme == "dark") {
        body.style.backgroundColor = "white";
        body.style.color = "black";
        cir.style.left = "5px";
        cimg.src = "sun.png"
        edt.style.background = "transparent";
        root.style.setProperty("--phc", "black")
        root.style.setProperty("--ph", "#fff")
        root.style.setProperty("--song", "#EFEFEF")
        localStorage.setItem("theme", "light")
      } else {
        body.style.backgroundColor = "#222";
        body.style.color = "white";
        cir.style.left = "37px";
        cimg.src = "full-moon.png";
        edt.style.background = "transparent"
        root.style.setProperty("--phc", "white")
        root.style.setProperty("--ph", "#222")
        root.style.setProperty("--song", "#333")
        localStorage.setItem("theme", "dark")
      }
    })
    isrc.addEventListener("change", function() {
      img.src = URL.createObjectURL(isrc.files[0])
      if (img.src != "") {
        r.style.display = "block";
      } else {
        r.style.display = "none"
      }
    })
    sh.addEventListener("input", function() {
      img.style.height = sh.value + 'px';
    })
    sw.addEventListener("input", function() {
      img.style.width = sw.value + 'px';
    })
    edt.addEventListener("input", function() {
      img.style.background = edt.value;
      img.style.borderRadius = edt.value + 'px';
    })
    edt.addEventListener("focusout", function() {
      edt.value = ""
    })
    document.querySelector("body").addEventListener("mousemove", eyeball());

    function eyeball() {
      const eye = document.querySelectorAll(".eye")
      eye.forEach(function(eye) {
        let x = (eye.getBoundingClientRect().left) + (eye.clientWidth / 2);
        let y = (eye.getBoundingClientRect().top) + (eye.clientHeight / 2);
        let radian = Math.atan2(event.pageX - x, event.pageY - y);
        let rotation = (radian * (180 / Math.PI) * -1) + 270;
        eye.style.transform = "rotation(" + rotation + "deg)"
      })
    }

    function removeimg() {
      img.src = ""
      r.style.display = "none"
    }
    if ('webkitSpeechRecognition' in window) {
      const recognition = new webkitSpeechRecognition();
      recognition.continuous = false;
      recognition.interimResults = false;
      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        result.textContent = transcript;
        let noSpaces = transcript.replace(/\s+/g, '');
        img.style.backgroundColor = noSpaces;
        img.style.borderRadius = transcript + "px";
      };
      recognition.onerror = function(event) {
        console.error('Speech recognition error:', event.error);
      };
      startBtn.onclick = function() {
        result.textContent = 'Listening...';
        recognition.start();
      };
    } else {
      result.textContent = 'Speech recognition is not supported in this browser.';
    }
  </script>


  <script>
    const audioElement = document.getElementById('background-audio');
    const playPauseBtn = document.getElementById('play-pause-btn');
    const progressBar = document.getElementById('progress-bar');
    const currentTimeSpan = document.getElementById('current-time');
    const totalTimeSpan = document.getElementById('total-time');
    const selectElement = document.getElementById('song-select');

    // Load last played song from localStorage on page load
    window.onload = () => {
      const savedSong = localStorage.getItem('lastPlayedSong');
      const savedTitle = localStorage.getItem('lastPlayedSongTitle');

      if (savedSong && savedTitle) {
        document.getElementById('audio-source').src = savedSong;
        document.getElementById('song-title').textContent = "Now Playing: " + savedTitle;

        // Set the dropdown to the saved song
        [...selectElement.options].forEach((option, index) => {
          if (option.value === savedSong) selectElement.selectedIndex = index;
        });

        audioElement.load();
        playPauseBtn.textContent = "‚ñ∂";
      }
    };

    function changeSong() {
      const selectedOption = selectElement.options[selectElement.selectedIndex];
      document.getElementById('audio-source').src = selectedOption.value;
      document.getElementById('song-title').textContent = "Now Playing: " + selectedOption.getAttribute('data-title');

      audioElement.load();
      audioElement.play();
      playPauseBtn.textContent = "‚ùö‚ùö";

      // Save song selection to localStorage
      localStorage.setItem('lastPlayedSong', selectedOption.value);
      localStorage.setItem('lastPlayedSongTitle', selectedOption.getAttribute('data-title'));
    }

    function togglePlayPause() {
      if (audioElement.paused) {
        audioElement.play();
        playPauseBtn.textContent = "‚ùö‚ùö";
      } else {
        audioElement.pause();
        playPauseBtn.textContent = "‚ñ∂";
      }
    }

    // Update progress bar and time display
    audioElement.addEventListener('timeupdate', () => {
      const { currentTime, duration } = audioElement;
      if (!isNaN(duration)) {
        const progressPercent = (currentTime / duration) * 100;
        progressBar.value = progressPercent;
        progressBar.style.background = `linear-gradient(to right, red ${progressPercent}%, #ddd ${progressPercent}%)`;

        currentTimeSpan.textContent = formatTime(currentTime);
        totalTimeSpan.textContent = formatTime(duration);
      }
    });

    // Seek in the audio when user changes progress bar
    progressBar.addEventListener('input', () => {
      if (!isNaN(audioElement.duration)) {
        audioElement.currentTime = (progressBar.value / 100) * audioElement.duration;
      }
    });

    // Format time in minutes:seconds
    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
    }
  </script>
</body>

</html>