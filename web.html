<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="web.css">
  <link rel="website icon" href="wolf-head-amazing-logo-illustration_74472-391.jpg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Edu+AU+VIC+WA+NT+Pre:wght@400..700&display=swap" rel="stylesheet">
  <title>WEBSITE 1101</title>
</head>

<body id="body">
  <div class="top">
    <audio autoplay muted loop>
      <source src="background-music.mp3" type="audio/mpeg">
    </audio>
    <marquee direction="left" style="font-size: 30px;margin-top: 5px;">
      <p id="title"><b><i>WELCOME TO MY WEB .üá≥üáµ</i></b></p>
    </marquee>
    <div class="bar">
      <button type="button" id="button" onclick="pop()"><img src="hamburger.png" alt="hamburger.png" style="height:35px; width:35px;"></button>
    </div>
  </div>
  <div id="pop">
    <a href="web.html"><img src="home.png" alt="home.png">
      <p>Home</p>
    </a>
    <a href="games.html" target="_blank"><img src="joystick.png" alt="" />
      <p style="padding:9px 0 0 0;">Games</p>
    </a>
    <a href="draw.html" target="_blank"><img src="drawing.png" alt="">
      <p>Paints</p>
    </a>
    <a href="calculator.html" target="_blank"><img src="calculator.png" alt="">
      <p>Calculator</p>
    </a>
    <div id="theme">
      <div id="circle"><img src="full-moon.png" alt="" id="cimg" style="height: 30px;width:30px;"></div>
    </div>
  </div>
  <div id="backpop"></div>
  <div class="container">
    <img src="" alt="" id="image">
    <button onclick="removeimg()" id="ireset">Reset</button>
    <div id="inph">
      <input type="text" id="edit">
      <div id="ph">EDIT BOX HERE</div>
      <div>
        <button id="start-btn" style="border-radius:50px;"><img src="microphone.png" alt="" style="height: 20px;width: 20px;"></button>
      </div>
    </div>
    <p id="result"></p>

    <form>
      <label>HEIGHT:</label>
      <input type="range" id="sh" max="350" min="0" style="width:200px;">
      <br>
      <br>
      <label>WIDTH:</label>&nbsp;&nbsp;
      <input type="range" id="sw" max="350" min="0" style="width: 200px;">
    </form>
    <br>
    <form>
      <div style="display:flex;gap: 50px;">
        <label for="isrc" id="isrclb">Upload Image</label>
        <input type="file" id="isrc">
      </div>
    </form>
  </div>
  <div class="music">
    <marquee direction="left" style="font-size: 14px;">
      <h2 id="song-title">
        Select a song to play.</h2>
    </marquee>
    <div id="progss">
      <div id="musictime">
        <input type="range" id="progress-bar" value="0" max="100">
        <span id="current-time">0:00</span> / <span id="total-time">0:00</span>
      </div>
      <div id="musicbut">
        <div>
          <button id="previous-btn" onclick="playPreviousSong()">‚èÆ</button>
          <button id="play-pause-btn" onclick="togglePlayPause()">‚ñ∂</button>
          <button id="next-btn" onclick="playNextSong()">‚è≠</button>
        </div>
        <div>

          <button id="repeat-btn" onclick="toggleRepeat()"></button>
        </div>
      </div>
    </div>
    <div class="selection">
      <label for="song-select">Song:</label>
      <select id="song-select" onchange="changeSong()">
        <option value="ogryzek-aura-128-ytshorts.savetube.me.mp3" data-title="Ogryzek - AURA">Ogryzek - AURA</option>
          <option value="victory-anthem-khushix-lashcurry-prod-by-audiocrackerrbeatz1-official-audio-128-ytshorts.savetube.me.mp3" data-title="Victory - Anthem">Victory - Anthem</option>
        <option value="Montagem Coral [ Phonk ] est√°tua de solo loving_1729795211883.mp3" data-title="Montagem Coral[Phonk]">Montagem Coral[Phonk]</option>
        <option value="Lost Sky - Fearless pt.II (feat. Chris Linton)  Trap  NCS - Copyright Free Music_1729787541192.mp3" data-title="Fearless pt.II">Fearless pt.II</option>
        <option value="Chaal chal tu apni me tujhe pehchan lunga (Lyrics)  Tu hai kahan  AUR_1716746327590 (1).mp3" data-title="AUR-Tu hai Kahan">AUR-Tu hai Kahan</option>
        <option value="anuv-jain-jo-tum-mere-ho-lyrics-128-ytshorts.savetube.me.mp3" data-title="Anuv-Jo Tum Mere Ho">Anuv-Jo Tum Mere Ho</option>
        <option value="The Local Train - Aaoge Tum Kabhi with lyrics_1729597756399.mp3" data-title="Aaoge Tum Kabhi">Aaoge Tum Kabhi</option>
        <option value="Elley Duh√© - Middle of the Night (Lyrics).mp3" data-title="Middle of the Night">Middle of the Night</option>
        <option value="Warriyo - Mortals (feat. Laura Brehm) (Lyrics)_1722686832267.mp3" data-title="Warriyo - Mortals">Warriyo - Mortals</option>
        <option value="Tokyo Drift _ Sean Paul Temperature [REMIX] _ Fast And Furious 8 (Final Battle) (128K).mp3" data-title="Tokyo Drift Temperature[REMIX]">Tokyo_Drift-Temperature</option>
        <option value="The Neighbourhood - Sweater Weather (Lyrics).mp3" data-title="Sweater Weather">Sweater Weather</option>
        <option value="LYRICAL VIDEO OF SANSKRITI  MANTRA BAND_1714402333592 (1).mp3" data-title="SANSKRITI MANTRA BAND">SANSKRITI MANTRA BAND</option>
        <option value="INTERWORLD METAMORPHOSIS_1729401838034.mp3" data-title="INTERWORLD-METAMORPHOSIS">METAMORPHOSIS</option>
        <option value="Ghost - Mary On A Cross (Official Audio)_1729787557633.mp3" data-title="Ghost-Mary On A Cross">Ghost-Mary On A Cross</option>
        <option value="BLUESSS - LA LA LA LA (OFFICIAL LYRICS VIDEO) (128K).mp3" data-title="BLUESSS-LA LA LA">BLUESSS-LA LA LA</option>
        <option value="AlexanderRybak-Fairytale(Lyrics) visionWinner2009_678.mp3" data-title="AlexanderRybak-Fairytale">AlexanderRybak-Fairytale</option>
        <option value="24kGoldn-Mood(Lyrics)ft.IannDiorWhyyoualwaysinamood_757.mp3" data-title="24kGoldn-Mood">24kGoldn-Mood</option>
        <option value="Egzod & Maestro Chives - Royalty - Bass Boosted (128K).mp3" data-title="Royalty">Royalty</option>
        <option value="Eternxlkz - SLAY! (Official Audio)_1720140920108.mp3" data-title="Eternxlkz - SLAY!">Eternxlkz - SLAY!</option>
        <option value="Eternxlkz - JUJALARIM FUNK (Official Audio)_1717977736620 (1) (1).mp3" data-title="Eternxlkz - JUJALARIM PHONK">Eternxlkz-JUJALARIM PHONK</option>
        <option value="Rauf&Faik-childhood(Officialvideo)_34.mp3" data-title="Rauf&Faik-Childhood">Rauf&Faik-Childhood</option>
        <option value="Lana Del Rey - Summertime Sadness (Lyrics)_1723630065669.mp3" data-title="Summertime Sadness">Summertime Sadness</option>
        <option value="NEFFEX - Cold ‚ùÑÔ∏è[Copyright Free] No.60_1729014764447.mp3" data-title="NEFFEX - Cold ‚ùÑÔ∏è">NEFFEX - Cold ‚ùÑÔ∏è</option>
        <option value="Powfu-deathbed(Lyrics)feat.beabadoobee_117.mp3" data-title="Powfu-deathbed">Powfu-deathbed</option>
        <option value="Marshmello - Alone (Lyrics) (128K).mp3" data-title="Marshmello - Alone">Marshmello - Alone</option>

      </select>
    </div>
    <!-- Play/Pause Button -->

    <!-- Audio Element -->
    <audio id="background-audio">
      <source id="audio-source" src="" type="audio/mpeg"> browser does not support
    </audio>
  </div>
  <div id="infous">
    <button id="contxtopn">Contact Us</button>
  </div>

  <div class="base">
    <div class="ownlink">
      <a href="https://www.facebook.com/shreejal.twayana.100" target="_blank"><img src="facebook.png" alt="" class="links"></a>
      <a href="https://youtube.com/@lggamer-lg2sd?si=aAUf6zz8gwkf_DOA" target="_blank"><img src="youtube.png" alt="" class="links"></a>
      <a href="https://www.instagram.com/shreejal.twayana?igsh=NHRkMzF3ZGhmYWdk" target="_blank"><img src="instagram.png" alt="" class="links"></a>
      <a href="https://github.com/Shreejal78" target="_blank"><img src="github.png" alt="" class="links"></a>
    </div>
    <div class="contactlink">
      <a href="mailto:shreeejalt1@gmail.com">shreeejalt1@gmail.com</a>

      <a href="tel:9767239039">9767239039</a>
    </div>
  </div>

  <div id="contactover">
    <div class="contactus">
      <button id="close" type="button">√ó</button>
      <p id="contop">Contact Us</p>
      <form action="https://api.web3forms.com/submit" method="POST" id="contact">
        <!-- Replace with your Access Key -->
        <input type="hidden" name="access_key" value="4943a478-dbcb-4478-88c4-e8dc847175ae">
        <!-- Form Inputs. Each input must have a name="" attribute -->
        <input type="text" placeholder="Name" name="name" required>
        <input type="email" placeholder="Email" id="email" name="email" required>
        <textarea name="message" placeholder="Message Here!" required style="height:60px;resize: none;padding: 10px;"></textarea>
        <!-- Honeypot Spam Protection -->
        <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
        <!-- Custom Confirmation / Success Page -->
        <!-- <input type="hidden" name="redirect" value="https://mywebsi.com/thanks.html"> -->
        <button type="submit" id="submit">Submit</button>
      </form>
    </div>
  </div>

  </div>
  <script>
    var body = document.getElementById("body")
    var root = document.querySelector(":root")
    var r = document.getElementById("ireset")
    var opn = document.getElementById("contxtopn");
    var rootstyle = getComputedStyle(root)
    var sbg = rootstyle.getPropertyValue("--song")
    var phc = rootstyle.getPropertyValue("--phc")
    var ph = rootstyle.getPropertyValue("--ph")
    var edt = document.getElementById("edit")
    var img = document.getElementById("image")
    var cimg = document.getElementById("cimg")
    var isrc = document.getElementById("isrc")
    var submit = document.getElementById("submit")
    var sh = document.getElementById("sh")
    var sw = document.getElementById("sw")
    var t = document.getElementById("theme")
    var cir = document.getElementById("circle");
    var close = document.getElementById("close")
    var contact = document.getElementById("contactover")
    const result = document.getElementById('result');
    const startBtn = document.getElementById('start-btn');

    var thm = localStorage.getItem("theme");
    if (thm == "dark") {
      body.style.backgroundColor = "#222";
      body.style.color = "white";
      edt.style.background = "transparent"
      root.style.setProperty("--ph", "#222")
      root.style.setProperty("--phc", "white")
      root.style.setProperty("--song", "#333")
      cir.style.left = "34px"
      cimg.src = "full-moon.png";
    } else {
      body.style.backgroundColor = "white";
      body.style.color = "black";
      edt.style.background = "transparent";
      root.style.setProperty("--ph", "#fff")
      root.style.setProperty("--phc", "#333")
      root.style.setProperty("--song", "#EFEFEF")
      cir.style.left = "0px"
      cimg.src = "sun.png";
    }
    t.addEventListener("click", function() {
      var theme = localStorage.getItem("theme")
      if (theme == "dark") {
        body.style.backgroundColor = "white";
        body.style.color = "black";
        cir.style.left = "0px";
        cimg.src = "sun.png"
        edt.style.background = "transparent";
        root.style.setProperty("--phc", "#333")
        root.style.setProperty("--ph", "#fff")
        root.style.setProperty("--song", "#EFEFEF")
        localStorage.setItem("theme", "light")
      } else {
        body.style.backgroundColor = "#222";
        body.style.color = "white";
        cir.style.left = "34px";
        cimg.src = "full-moon.png";
        edt.style.background = "transparent"
        root.style.setProperty("--phc", "white")
        root.style.setProperty("--ph", "#222")
        root.style.setProperty("--song", "#333")
        localStorage.setItem("theme", "dark")
      }
    })
    var p = document.getElementById("pop");
    var bp = document.getElementById("backpop")

    function pop() {
      if (p.style.left == "-9rem") {
        p.style.left = "0rem";
        bp.style.display = "block";
        body.style.overflow = "hidden";
      } else {
        bp.style.display = "hidden";
        p.style.left = "-9rem"
        body.style.overflow = "visible"
      }
    }
    bp.addEventListener("click", () => {
      bp.style.display = "none";
      body.style.overflow = "visible";
      p.style.left = "-9rem";
    })

    isrc.addEventListener("change", function() {
      img.src = URL.createObjectURL(isrc.files[0])
      if (img.src != "") {
        r.style.display = "block";
      } else {
        r.style.display = "none"
      }
    })
    sh.addEventListener("input", function() {
      img.style.height = sh.value + 'px';
    })
    sw.addEventListener("input", function() {
      img.style.width = sw.value + 'px';
    })
    edt.addEventListener("input", function() {
      img.style.background = edt.value;
      img.style.borderRadius = edt.value + 'px';
    })
    edt.addEventListener("focusout", function() {
      edt.value = ""
    })

    document.querySelector("body").addEventListener("mousemove", eyeball());

    function eyeball() {
      const eye = document.querySelectorAll(".eye")
      eye.forEach(function(eye) {
        let x = (eye.getBoundingClientRect().left) + (eye.clientWidth / 2);
        let y = (eye.getBoundingClientRect().top) + (eye.clientHeight / 2);
        let radian = Math.atan2(event.pageX - x, event.pageY - y);
        let rotation = (radian * (180 / Math.PI) * -1) + 270;
        eye.style.transform = "rotation(" + rotation + "deg)"
      })
    }

    submit.addEventListener("click", function() {
      contact.style.display = "none";
    })
    opn.addEventListener("click", function() {
      contact.style.display = "flex";
    })
    close.addEventListener("click", function() {
      contact.style.display = "none"
    })

    function removeimg() {
      img.src = ""
      r.style.display = "none"
      sw.value = "175";
      img.style.background = "transparent";
      sh.value = "175";
      img.style.height = "100px"
      img.style.width = "100px"
      img.style.borderRadius = "0"
    }
    if ('webkitSpeechRecognition' in window) {
      const recognition = new webkitSpeechRecognition();
      recognition.continuous = false;
      recognition.interimResults = false;
      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        result.textContent = transcript;
        let noSpaces = transcript.replace(/\s+/g, '');
        img.style.backgroundColor = noSpaces;
        img.style.borderRadius = transcript + "px";
      };
      recognition.onerror = function(event) {
        console.error('Speech recognition error:', event.error);
      };
      startBtn.onclick = function() {
        result.textContent = 'Listening...';
        recognition.start();
      };
    } else {
      result.textContent = 'Speech recognition is not supported in this browser.';
    }

    function saveImage() {
      const imgElement = document.getElementById("image");

      if (!imgElement.src) {
        alert("Please upload and edit an image before saving!");
        return;
      }

      // Create a temporary canvas to draw the image
      const canvas = document.createElement("canvas");
      const ctx = canvas.getContext("2d");

      // Set canvas size to the image size
      const width = imgElement.width;
      const height = imgElement.height;
      const borderRadius = parseInt(window.getComputedStyle(imgElement).borderRadius, 10);

      canvas.width = width;
      canvas.height = height;

      // Apply border radius and draw the image
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.beginPath();
      ctx.moveTo(borderRadius, 0);
      ctx.lineTo(width - borderRadius, 0);
      ctx.quadraticCurveTo(width, 0, width, borderRadius);
      ctx.lineTo(width, height - borderRadius);
      ctx.quadraticCurveTo(width, height, width - borderRadius, height);
      ctx.lineTo(borderRadius, height);
      ctx.quadraticCurveTo(0, height, 0, height - borderRadius);
      ctx.lineTo(0, borderRadius);
      ctx.quadraticCurveTo(0, 0, borderRadius, 0);
      ctx.closePath();
      ctx.clip();

      const img = new Image();
      img.src = imgElement.src;

      img.onload = function() {
        ctx.drawImage(img, 0, 0, width, height);

        // Generate a downloadable link
        const link = document.createElement("a");
        link.download = "edited_image.png"; // Set the file name
        link.href = canvas.toDataURL("image/png"); // Convert canvas to a data URL
        link.click(); // Trigger the download
      };
    }
  </script>
  <script>
    const audioElement = document.getElementById('background-audio');
    const playPauseBtn = document.getElementById('play-pause-btn');
    const progressBar = document.getElementById('progress-bar');
    const currentTimeSpan = document.getElementById('current-time');
    const totalTimeSpan = document.getElementById('total-time');
    const selectElement = document.getElementById('song-select');
    const repeatBtn = document.getElementById('repeat-btn');
    let repeatMode = localStorage.getItem("mode"); // "all", "one", "none"

    window.onload = () => {
      const savedSong = localStorage.getItem('lastPlayedSong');
      const savedTitle = localStorage.getItem('lastPlayedSongTitle');
      const savedTime = localStorage.getItem('lastPlayedTime');

      if (savedSong && savedTitle) {
        document.getElementById('audio-source').src = savedSong;
        document.getElementById('song-title').textContent = "Now Playing: " + savedTitle;

        [...selectElement.options].forEach((option, index) => {
          if (option.value === savedSong) selectElement.selectedIndex = index;
        });

        audioElement.load();

        if (savedTime) {
          audioElement.currentTime = parseFloat(savedTime);
        }

        playPauseBtn.textContent = "‚ñ∂";
      }

      setupMediaSession();
    };

    function playNextSong() {
      const currentIndex = selectElement.selectedIndex;
      const nextIndex = (currentIndex + 1) % selectElement.options.length;
      selectElement.selectedIndex = nextIndex;
      changeSong();
    }

    function playPreviousSong() {
      const currentIndex = selectElement.selectedIndex;
      const previousIndex = (currentIndex - 1 + selectElement.options.length) % selectElement.options.length;
      selectElement.selectedIndex = previousIndex;
      changeSong();
    }

    function changeSong() {
      const selectedOption = selectElement.options[selectElement.selectedIndex];
      document.getElementById('audio-source').src = selectedOption.value;
      document.getElementById('song-title').textContent = "Now Playing: " + selectedOption.getAttribute('data-title');

      audioElement.load();
      audioElement.play();
      playPauseBtn.textContent = "‚ùö‚ùö";

      localStorage.setItem('lastPlayedSong', selectedOption.value);
      localStorage.setItem('lastPlayedSongTitle', selectedOption.getAttribute('data-title'));

      updateMediaSession(selectedOption.getAttribute('data-title'));
    }

    function togglePlayPause() {
      if (audioElement.paused) {
        audioElement.play();
        playPauseBtn.textContent = "‚ùö‚ùö";
      } else {
        audioElement.pause();
        playPauseBtn.textContent = "‚ñ∂";
      }
    }
    toggleRepeat()

    function toggleRepeat() {
      if (repeatMode === "all") {
        repeatMode = "one";
        localStorage.setItem("mode", repeatMode)
        // Repeat one song
        repeatBtn.textContent = "üîÇ";
      } else if (repeatMode === "one") {
        repeatMode = "none"; // Sequential play (no repeat)
        localStorage.setItem("mode", repeatMode)
        repeatBtn.textContent = "‚û°";
      } else {
        repeatMode = "all"; // Repeat all songs
        localStorage.setItem("mode", repeatMode)
        repeatBtn.textContent = "üîÅ";
      }
    }

    audioElement.addEventListener('ended', () => {
      if (repeatMode === "one") {
        // Replay the current song
        audioElement.currentTime = 0;
        audioElement.play();
      } else if (repeatMode === "all") {
        // Play the next song in the playlist
        playNextSong();
      } else {
        const currentIndex = selectElement.selectedIndex;
        if (currentIndex < selectElement.options.length - 1) {
          // Move to the next song if sequential play is enabled
          playNextSong();
        } else {
          // Stop playback when the last song finishes and reset to the first song
          audioElement.currentTime = 0;
          selectElement.selectedIndex = 0; // Select the first song
          const selectedOption = selectElement.options[selectElement.selectedIndex];
          document.getElementById('audio-source').src = selectedOption.value;
          document.getElementById('song-title').textContent = "Now Playing: " + selectedOption.getAttribute('data-title');

          audioElement.load();
          playPauseBtn.textContent = "‚ùö‚ùö";

          localStorage.setItem('lastPlayedSong', selectedOption.value);
          localStorage.setItem('lastPlayedSongTitle', selectedOption.getAttribute('data-title'));

          updateMediaSession(selectedOption.getAttribute('data-title')); // Load and update the selected song
          playPauseBtn.textContent = "‚ñ∂"; // Update play button to paused state
          const { currentTime, duration } = audioElement;
          const progressPercent = (currentTime / 0) * 100;
          progressBar.value = 0;
          progressBar.style.background = "#ddd";
          currentTimeSpan.textContent = formatTime(0);
          totalTimeSpan.textContent = formatTime(0);
          audioElement.pause()
        }
      }
    });

    audioElement.addEventListener('timeupdate', () => {
      const { currentTime, duration } = audioElement;

      if (!isNaN(duration)) {
        const progressPercent = (currentTime / duration) * 100;
        progressBar.value = progressPercent;
        progressBar.style.background = `linear-gradient(to right, red ${progressPercent}%, #ddd ${progressPercent}%)`;

        currentTimeSpan.textContent = formatTime(currentTime);
        totalTimeSpan.textContent = formatTime(duration);
        localStorage.setItem('lastPlayedTime', currentTime);
      }
    });

    progressBar.addEventListener('input', () => {
      if (!isNaN(audioElement.duration)) {
        audioElement.currentTime = (progressBar.value / 100) * audioElement.duration;
      }
    });

    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
    }

    function setupMediaSession() {
      if ('mediaSession' in navigator) {
        navigator.mediaSession.setActionHandler('play', () => {
          audioElement.play();
          playPauseBtn.textContent = "‚ùö‚ùö";
        });
        navigator.mediaSession.setActionHandler('pause', () => {
          audioElement.pause();
          playPauseBtn.textContent = "‚ñ∂";
        });
        navigator.mediaSession.setActionHandler('nexttrack', playNextSong);
        navigator.mediaSession.setActionHandler('previoustrack', playPreviousSong);
        updateMediaSession(localStorage.getItem('lastPlayedSongTitle'));
      }
    }

    function updateMediaSession(title) {
      if ('mediaSession' in navigator) {
        navigator.mediaSession.metadata = new MediaMetadata({
          title: title || "Select a song to play",
          artist: "Unknown Artist",
          album: "Unknown Album",
          artwork: [
            { src: "music-abstract-with-headphones-horizontal-wallpaper-photo.jpg", sizes: "512x512", type: "image/jpeg" }
          ]
        });
      }
    }
  </script>
</body>

</html>